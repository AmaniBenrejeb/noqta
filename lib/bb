import 'package:flutter/material.dart';
import 'package:google_nav_bar/google_nav_bar.dart';
import 'package:mypfe/homepage.dart';
import 'package:mypfe/myaccount.dart';

class CustomBottomNavigationBar extends StatefulWidget {
  const CustomBottomNavigationBar({Key? key}) : super(key: key);

  @override
  _CustomBottomNavigationBarState createState() =>
      _CustomBottomNavigationBarState();
}

class _CustomBottomNavigationBarState extends State<CustomBottomNavigationBar> {
  int _selectedIndex = 1;

  @override
  Widget build(BuildContext context) {
    return Container(
      color: const Color(0xFFF2E5FF),
      child: Padding(
        padding: const EdgeInsets.symmetric(horizontal: 15.0, vertical: 6.0),
        child: GNav(
          backgroundColor: const Color(0xFFF2E5FF),
          color: const Color(0XFFDCC7F2),
          activeColor: const Color(0xFFA779F7),
          tabBackgroundColor: const Color.fromARGB(255, 228, 209, 248),
          iconSize: 30,
          gap: 10,
          selectedIndex: _selectedIndex,
          onTabChange: (index) {
            setState(() {
              _selectedIndex = index;
              print("_selectedIndex: $_selectedIndex");
            });
            // Handle navigation based on index
            if (index == 0) {
              // Navigate to MyAccount page
              Navigator.push(
                context,
                MaterialPageRoute(builder: (context) => const MyAcc()),
              );
            } else if (index == 1) {
              // Navigate to HomePage
              Navigator.push(
                context,
                MaterialPageRoute(builder: (context) => const HomePage()),
              );
            }
          },
          padding: const EdgeInsets.all(16),
          tabs: [
            GButton(
              icon: Icons.account_circle,
              text: "حسابي",
              
            ),
            GButton(
              icon: Icons.home_rounded,
              text: "الرئسية",
              
            ),
          ],
        ),
      ),
    );
  }
}